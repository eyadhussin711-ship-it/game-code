<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Queen Hotel</title>

<style>
*{box-sizing:border-box;font-family:Tahoma}

body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(270deg,#000814,#001d3d,#000,#003566);
  background-size:400% 400%;
  animation:bg 12s ease infinite;
  color:#fff;
}

@keyframes bg{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.wrap{max-width:420px;margin:auto;padding:15px}

.box{
  background:rgba(0,0,0,.75);
  padding:20px;
  border-radius:18px;
  margin-bottom:12px;
}

h1{
  text-align:center;
  font-size:30px;
  animation:glow 2s infinite alternate;
  color:red;
}

@keyframes glow{
  from{text-shadow:0 0 5px red}
  to{text-shadow:0 0 20px red}
}

input,button,textarea{
  width:100%;
  padding:14px;
  margin:6px 0;
  border:none;
  border-radius:12px;
  font-size:15px;
}

button{
  background:#0d6efd;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}

button.red{background:#c1121f}

.nav{
  display:flex;
  gap:5px;
  margin-bottom:10px;
}

.nav button{flex:1}

.section{display:none}
.section.active{display:block}

.item{
  background:#001845;
  padding:12px;
  border-radius:12px;
  margin:6px 0;
}

.small{font-size:12px;opacity:.8}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginBox">
  <div class="wrap">
    <div class="box">
      <h1>QUEEN</h1>
      <input id="nameInput" placeholder="Ø§Ø³Ù…Ùƒ">
      <input id="codeInput" placeholder="ÙƒÙˆØ¯ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
      <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
      <p class="small">
        ÙƒÙˆØ¯ Ø§Ù„ÙƒØ§ÙÙŠÙ‡: CAFE-1<br>
        ÙƒÙˆØ¯ Ø§Ù„ÙÙ†Ø¯Ù‚: HOTEL-1<br>
        ÙƒÙˆØ¯ Ø§Ù„Ø£ÙˆÙ†Ø±: OWNER-1
      </p>
    </div>
  </div>
</div>

<!-- APP -->
<div id="app" style="display:none">
  <div class="wrap">

    <div class="nav">
      <button onclick="show('rooms')">ğŸ¨</button>
      <button onclick="show('news')">ğŸ“°</button>
      <button onclick="show('orders')">ğŸ§¾</button>
      <button class="red" onclick="logout()">ğŸšª</button>
    </div>

    <!-- ROOMS -->
    <div id="rooms" class="section active">
      <div class="box">
        <h3>ØºØ±Ù Ø§Ù„ÙÙ†Ø¯Ù‚</h3>
        <div id="roomsList"></div>
      </div>
    </div>

    <!-- NEWS -->
    <div id="news" class="section">
      <div class="box">
        <h3>Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h3>
        <div id="newsList"></div>
        <div id="newsForm" style="display:none">
          <textarea id="newsText" placeholder="Ø§ÙƒØªØ¨ Ø®Ø¨Ø±"></textarea>
          <button onclick="addNews()">Ù†Ø´Ø±</button>
        </div>
      </div>
    </div>

    <!-- ORDERS -->
    <div id="orders" class="section">
      <div class="box">
        <h3>Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
        <div id="ordersList"></div>
      </div>
    </div>

  </div>
</div>

<script>
const CODES = {
  "CAFE-1":"cafe",
  "HOTEL-1":"hotel",
  "OWNER-1":"owner"
};

function login(){
  const name = nameInput.value.trim();
  if(!name) return alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");

  const role = CODES[codeInput.value] || "client";
  localStorage.setItem("user",name);
  localStorage.setItem("role",role);
  start();
}

function start(){
  loginBox.style.display="none";
  app.style.display="block";

  if(localStorage.getItem("role")!=="client"){
    newsForm.style.display="block";
  }

  renderRooms();
  renderOrders();
  renderNews();
}

function show(id){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function renderRooms(){
  roomsList.innerHTML="";
  for(let i=1;i<=12;i++){
    roomsList.innerHTML+=`
      <div class="item">
        ØºØ±ÙØ© ${i}
        <button onclick="openForm(${i})">Ø·Ù„Ø¨</button>
      </div>`;
  }
}

function openForm(room){
  const name = localStorage.getItem("user");
  const data = prompt("Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ / ØªØ§Ø±ÙŠØ® / Ù…Ù„Ø§Ø­Ø¸Ø§Øª");
  if(!data) return;

  const orders = JSON.parse(localStorage.getItem("orders")||"[]");
  orders.push({room,name,data,time:new Date().toLocaleString()});
  localStorage.setItem("orders",JSON.stringify(orders));
  alert("ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ âœ…");
}

function renderOrders(){
  ordersList.innerHTML="";
  const role = localStorage.getItem("role");
  if(role==="client") return;

  const orders = JSON.parse(localStorage.getItem("orders")||"[]");
  orders.forEach(o=>{
    ordersList.innerHTML+=`
      <div class="item small">
        ${o.name} | ØºØ±ÙØ© ${o.room}<br>${o.data}<br>${o.time}
      </div>`;
  });
}

function addNews(){
  const txt = newsText.value.trim();
  if(!txt) return;
  const news = JSON.parse(localStorage.getItem("news")||"[]");
  news.unshift(txt);
  localStorage.setItem("news",JSON.stringify(news));
  newsText.value="";
  renderNews();
}

function renderNews(){
  newsList.innerHTML="";
  const news = JSON.parse(localStorage.getItem("news")||"[]");
  news.forEach(n=>{
    newsList.innerHTML+=`<div class="item">${n}</div>`;
  });
}

setInterval(()=>{
  renderOrders();
  renderNews();
},1000);

function logout(){
  localStorage.clear();
  location.reload();
}

window.onload=()=>{
  if(localStorage.getItem("user")) start();
}
</script>

</body>
</html>
