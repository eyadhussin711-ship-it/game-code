<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Queen Hotel System</title>

<style>
*{box-sizing:border-box;font-family:Tahama}
body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(135deg,#0a1aff,#000,#a00000);
  color:#fff;
}
.hidden{display:none}
.wrap{max-width:1100px;margin:auto;padding:15px}

/* LOGIN */
.login-box{
  max-width:400px;
  margin:80px auto;
  background:#0b1230;
  padding:25px;
  border-radius:16px;
}
.login-box h1{
  text-align:center;
  color:red;
}
input,select,button{
  width:100%;
  padding:12px;
  margin:6px 0;
  border:none;
  border-radius:10px;
}
button{
  background:#2563ff;
  color:#fff;
  cursor:pointer;
}

/* APP */
.nav{
  display:flex;
  gap:8px;
  margin-bottom:10px;
}
.nav button{flex:1}

.main{
  display:flex;
  gap:15px;
}

/* ROOMS LIST */
.rooms{
  width:260px;
  background:#0b1230;
  padding:10px;
  border-radius:12px;
}
.room{
  padding:10px;
  margin:6px 0;
  border-radius:8px;
  cursor:pointer;
  background:#133b13;
}
.room.busy{background:#7a0000}
.room:hover{opacity:.85}

/* CONTENT */
.content{
  flex:1;
  background:#0b1230;
  padding:15px;
  border-radius:12px;
}
.card{
  background:#111c44;
  padding:12px;
  border-radius:10px;
  margin-bottom:10px;
}
.small{font-size:12px;opacity:.8}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginBox" class="login-box">
  <h1>QUEEN HOTEL</h1>
  <input id="nameInput" placeholder="Ø§Ø³Ù…Ùƒ">
  <select id="roleSelect">
    <option value="client">Ø¹Ù…ÙŠÙ„</option>
    <option value="hotel">Ù…ÙˆØ¸Ù ÙÙ†Ø¯Ù‚</option>
    <option value="cafe">Ù…ÙˆØ¸Ù ÙƒØ§ÙÙŠÙ‡</option>
    <option value="owner">Ø£ÙˆÙ†Ø±</option>
  </select>
  <input id="codeInput" placeholder="ÙƒÙˆØ¯ (Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†)">
  <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- APP -->
<div id="app" class="wrap hidden">

  <div class="nav">
    <button onclick="showPage('rooms')">ğŸ¨ Ø§Ù„ØºØ±Ù</button>
    <button onclick="showPage('cafe')">â˜• Ø§Ù„ÙƒØ§ÙÙŠÙ‡</button>
    <button onclick="showPage('news')">ğŸ“° Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</button>
    <button onclick="showPage('orders')">ğŸ“‹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
    <button onclick="logout()">ğŸšª Ø®Ø±ÙˆØ¬</button>
  </div>

  <div class="main">

    <!-- ROOMS -->
    <div class="rooms">
      <h3>Ø­Ø§Ù„Ø© Ø§Ù„ØºØ±Ù</h3>
      <div id="roomsList"></div>
    </div>

    <!-- CONTENT -->
    <div class="content">
      <div id="roomsPage" class="page">
        <h3>ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØºØ±ÙØ©</h3>
        <div id="roomDetails" class="card small">Ø§Ø®ØªØ§Ø± ØºØ±ÙØ© Ù…Ù† Ø§Ù„Ø¬Ù†Ø¨</div>
      </div>

      <div id="cafePage" class="page hidden">
        <h3>Ø§Ù„ÙƒØ§ÙÙŠÙ‡</h3>
        <div class="card">â˜• Ù‚Ù‡ÙˆØ© <button onclick="order('Ù‚Ù‡ÙˆØ©')">Ø·Ù„Ø¨</button></div>
        <div class="card">ğŸ¥¤ Ø¹ØµÙŠØ± <button onclick="order('Ø¹ØµÙŠØ±')">Ø·Ù„Ø¨</button></div>
        <div class="card">ğŸ” Ø¨Ø±Ø¬Ø± <button onclick="order('Ø¨Ø±Ø¬Ø±')">Ø·Ù„Ø¨</button></div>
      </div>

      <div id="newsPage" class="page hidden">
        <h3>Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h3>
        <div id="newsList"></div>
        <textarea id="newsText" placeholder="Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯"></textarea>
        <button onclick="addNews()">Ù†Ø´Ø±</button>
      </div>

      <div id="ordersPage" class="page hidden">
        <h3>Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
        <div id="ordersList"></div>
      </div>
    </div>

  </div>
</div>

<script>
/* DATA */
const ROOMS = [
  {id:1,status:"free"},
  {id:2,status:"free"},
  {id:3,status:"free"},
  {id:4,status:"free"},
];

const CODES = {
  owner:"OWNER-QUEEN",
  hotel:"HOTEL-QUEEN",
  cafe:"CAFE-QUEEN"
};

/* LOGIN */
function login(){
  const name = nameInput.value.trim();
  const role = roleSelect.value;
  const code = codeInput.value.trim();

  if(!name) return alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");

  if(role!=="client" && code!==CODES[role])
    return alert("Ø§Ù„ÙƒÙˆØ¯ ØºÙ„Ø·");

  localStorage.user=name;
  localStorage.role=role;

  loginBox.classList.add("hidden");
  app.classList.remove("hidden");

  renderRooms();
}

/* ROOMS */
function renderRooms(){
  roomsList.innerHTML="";
  ROOMS.forEach(r=>{
    const div=document.createElement("div");
    div.className="room "+(r.status==="busy"?"busy":"");
    div.textContent="ØºØ±ÙØ© "+r.id;
    div.onclick=()=>openRoom(r);
    roomsList.appendChild(div);
  });
}

function openRoom(room){
  roomDetails.innerHTML=`
    <b>ØºØ±ÙØ© Ø±Ù‚Ù… ${room.id}</b><br>
    Ø§Ù„Ø­Ø§Ù„Ø©: ${room.status==="free"?"ğŸŸ¢ ÙØ§Ø¶ÙŠØ©":"ğŸ”´ Ù…Ø­Ø¬ÙˆØ²Ø©"}<hr>
    <input id="guestName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù†Ø²ÙŠÙ„">
    <button onclick="bookRoom(${room.id})">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²</button>
  `;
}

function bookRoom(id){
  const name=document.getElementById("guestName").value;
  if(!name) return alert("Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù…");
  const room=ROOMS.find(r=>r.id===id);
  room.status="busy";
  saveOrder(`Ø­Ø¬Ø² ØºØ±ÙØ© ${id} - ${name}`);
  renderRooms();
  roomDetails.innerHTML="ØªÙ… Ø§Ù„Ø­Ø¬Ø² âœ”";
}

/* ORDERS */
function saveOrder(text){
  const orders=JSON.parse(localStorage.orders||"[]");
  orders.push({text,time:new Date().toLocaleTimeString()});
  localStorage.orders=JSON.stringify(orders);
  renderOrders();
}

function renderOrders(){
  ordersList.innerHTML="";
  const orders=JSON.parse(localStorage.orders||"[]");
  orders.forEach(o=>{
    ordersList.innerHTML+=`<div class="card small">${o.text} | ${o.time}</div>`;
  });
}

/* CAFE */
function order(item){
  saveOrder("Ø·Ù„Ø¨ ÙƒØ§ÙÙŠÙ‡: "+item);
  alert("ØªÙ… Ø§Ù„Ø·Ù„Ø¨");
}

/* NEWS */
function addNews(){
  if(localStorage.role!=="owner") return alert("Ù…Ø´ Ù…Ø³Ù…ÙˆØ­");
  const news=JSON.parse(localStorage.news||"[]");
  news.unshift(newsText.value);
  localStorage.news=JSON.stringify(news);
  newsText.value="";
  renderNews();
}

function renderNews(){
  newsList.innerHTML="";
  const news=JSON.parse(localStorage.news||"[]");
  news.forEach(n=>{
    newsList.innerHTML+=`<div class="card">${n}</div>`;
  });
}

/* NAV */
function showPage(p){
  document.querySelectorAll(".page").forEach(x=>x.classList.add("hidden"));
  document.getElementById(p+"Page").classList.remove("hidden");
}

/* LOGOUT */
function logout(){
  localStorage.clear();
  location.reload();
}

if(localStorage.user){
  loginBox.classList.add("hidden");
  app.classList.remove("hidden");
  renderRooms();
  renderOrders();
  renderNews();
}
</script>

</body>
</html>
