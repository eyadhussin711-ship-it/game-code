<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>EYAD UC STORE</title>

<style>
*{box-sizing:border-box;font-family:Arial}
body{
  margin:0;height:100vh;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:#fff;
}
.hidden{display:none}

/* LOGIN */
#login{
  height:100vh;display:flex;
  justify-content:center;align-items:center;
}
.login-box{
  width:360px;background:#102a36;
  padding:25px;border-radius:16px;text-align:center;
}
.title{
  font-size:32px;font-weight:bold;margin-bottom:15px;
  background:linear-gradient(270deg,#ffd700,#ffb703,#fff,#ffd700);
  background-size:600% 600%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:gold 4s ease infinite;
}
@keyframes gold{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
.login-box input,.login-box button{
  width:100%;padding:12px;margin:8px 0;
  border:none;border-radius:10px;
}
.login-box button{
  background:#00f5ff;font-weight:bold;cursor:pointer;
}

/* APP */
#app{display:none;height:100vh}
.app{display:flex;height:100%}

/* SIDEBAR */
.sidebar{
  width:220px;background:#102a36;padding:15px;
}
.sidebar button{
  width:100%;margin:6px 0;padding:10px;
  border:none;border-radius:10px;
  background:#00f5ff;font-weight:bold;cursor:pointer;
}

/* CONTENT */
.content{flex:1;padding:20px}
.section{display:none}
.section.active{display:block}

/* USERS */
.user{
  background:#0f2027;
  padding:10px;margin:6px 0;
  border-radius:10px;
  display:flex;justify-content:space-between;
}
select{border-radius:6px}

/* FOOTER */
.footer{
  position:fixed;bottom:6px;right:10px;
  font-size:12px;opacity:.7;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
  <div class="login-box">
    <div class="title">EYAD UC STORE</div>
    <input id="username" placeholder="Ø§Ø³Ù…Ùƒ">
    <input id="code" placeholder="ÙƒÙˆØ¯ Ø§Ù„Ø£ÙˆÙ†Ø± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    <small>Developer: Eyad Abo Gad</small>
  </div>
</div>

<!-- APP -->
<div id="app">
<div class="app">

<div class="sidebar">
  <button onclick="openSec('store')">ğŸ›’ Ø§Ù„Ù…ØªØ¬Ø±</button>
  <button onclick="openSec('admin')" id="adminBtn" class="hidden">ğŸ‘‘ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
  <button onclick="logout()">ğŸšª Ø®Ø±ÙˆØ¬</button>
</div>

<div class="content">

<div id="store" class="section active">
  <h2 id="welcome"></h2>
  <p>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±</p>
</div>

<div id="admin" class="section">
  <h3>ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
  <div id="usersList"></div>
</div>

</div>
</div>
</div>

<div class="footer">Â© Eyad Abo Gad</div>

<script>
const OWNER_CODE = "OWNER-999";

/* SAFE GET USERS */
function getUsers(){
  return JSON.parse(localStorage.getItem("users") || "[]");
}
function saveUsers(arr){
  localStorage.setItem("users", JSON.stringify(arr));
}

/* LOGIN */
function login(){
  let u = username.value.trim();
  if(!u) return alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");

  let role = (code.value === OWNER_CODE) ? "Owner" : "Player";
  let users = getUsers();

  let me = users.find(x => x.name === u);
  if(!me){
    users.push({name:u, role});
    saveUsers(users);
  }

  localStorage.user = u;
  localStorage.role = role;
  start();
}

/* START APP */
function start(){
  document.getElementById("login").style.display="none";
  document.getElementById("app").style.display="block";
  welcome.innerText = "Ø£Ù‡Ù„Ø§Ù‹ " + localStorage.user;

  if(localStorage.role === "Owner"){
    adminBtn.classList.remove("hidden");
    renderUsers();
  }
  openSec("store");
}

/* USERS LIST */
function renderUsers(){
  let users = getUsers();
  usersList.innerHTML = "";
  users.forEach((u,i)=>{
    usersList.innerHTML += `
      <div class="user">
        <span>${u.name}</span>
        <select onchange="changeRole(${i},this.value)">
          <option ${u.role==="Player"?"selected":""}>Player</option>
          <option ${u.role==="Helper"?"selected":""}>Helper</option>
          <option ${u.role==="Admin"?"selected":""}>Admin</option>
        </select>
      </div>
    `;
  });
}
function changeRole(i,val){
  let users = getUsers();
  users[i].role = val;
  saveUsers(users);
}

/* NAV */
function openSec(id){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* LOGOUT */
function logout(){
  localStorage.removeItem("user");
  localStorage.removeItem("role");
  location.reload();
}

/* AUTO LOGIN */
window.onload = ()=>{
  if(localStorage.user && localStorage.role){
    start();
  }
};
</script>

</body>
</html>
