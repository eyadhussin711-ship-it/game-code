<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Queen App</title>

<style>
*{box-sizing:border-box;font-family:Tahoma}

body{
  margin:0;
  min-height:100vh;
  color:#fff;
  background:linear-gradient(270deg,#000,#001a66,#000,#660000);
  background-size:600% 600%;
  animation:bgMove 15s infinite;
}
@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.wrap{max-width:430px;margin:auto;padding:15px}
.box{
  background:rgba(0,0,0,.75);
  padding:20px;
  border-radius:20px;
  box-shadow:0 0 25px #000;
}

h1{
  text-align:center;
  color:red;
  animation:glow 2s infinite alternate;
}
@keyframes glow{
  from{text-shadow:0 0 5px red}
  to{text-shadow:0 0 25px red}
}

input,select,textarea,button{
  width:100%;
  padding:12px;
  margin:6px 0;
  border:none;
  border-radius:12px;
}

button{
  background:#005bff;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}

.nav{
  display:flex;
  gap:5px;
  margin-bottom:10px;
}
.nav button{flex:1;font-size:13px}

.section{display:none}
.section.active{display:block}

.item{
  background:#0b133a;
  padding:12px;
  border-radius:12px;
  margin:8px 0;
}

img,video{
  width:100%;
  border-radius:12px;
}

.small{font-size:12px;opacity:.8}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginBox">
  <div class="wrap">
    <div class="box">
      <h1>QUEEN</h1>
      <input id="nameInput" placeholder="Ø§Ø³Ù…Ùƒ">
      <select id="roleSelect">
        <option value="client">Ø¹Ù…ÙŠÙ„</option>
        <option value="cafe">Ù…ÙˆØ¸Ù ÙƒØ§ÙÙŠÙ‡</option>
        <option value="hotel">Ù…ÙˆØ¸Ù ÙÙ†Ø¯Ù‚</option>
        <option value="owner">Ø£ÙˆÙ†Ø±</option>
      </select>
      <input id="codeInput" placeholder="ÙƒÙˆØ¯ (Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†)">
      <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    </div>
  </div>
</div>

<!-- APP -->
<div id="app" style="display:none">
  <div class="wrap">

    <div class="nav">
      <button onclick="show('rooms')">ğŸ¨</button>
      <button onclick="show('cafe')">â˜•</button>
      <button onclick="show('events')">ğŸ‰</button>
      <button onclick="show('news')">ğŸ“°</button>
      <button onclick="show('orders')" id="ordersBtn" style="display:none">ğŸ“©</button>
      <button onclick="logout()">ğŸšª</button>
    </div>

    <!-- ROOMS -->
    <div id="rooms" class="section active">
      <h3>ØºØ±Ù Ø§Ù„ÙÙ†Ø¯Ù‚</h3>
      <div id="roomsList"></div>
    </div>

    <!-- CAFE -->
    <div id="cafe" class="section">
      <h3>Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙƒØ§ÙÙŠÙ‡</h3>
      <div id="menuList"></div>
    </div>

    <!-- EVENTS -->
    <div id="events" class="section">
      <h3>Ø§Ù„Ø­ÙÙ„Ø§Øª</h3>

      <div id="eventForm" style="display:none">
        <input type="file" id="eventFile" accept="image/*,video/*">
        <button onclick="addEvent()">Ù†Ø´Ø±</button>
      </div>

      <div id="eventsList"></div>
    </div>

    <!-- NEWS -->
    <div id="news" class="section">
      <h3>Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h3>
      <textarea id="newsText" placeholder="Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯"></textarea>
      <button onclick="addNews()">Ù†Ø´Ø±</button>
      <div id="newsList"></div>
    </div>

    <!-- ORDERS -->
    <div id="orders" class="section">
      <h3>Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
      <div id="ordersList"></div>
    </div>

  </div>
</div>

<script>
const OWNER_CODE="OWNER-QUEEN";
const HOTEL_CODE="HOTEL-QUEEN";
const CAFE_CODE="CAFE-QUEEN";
const DRINKS=["Ù‚Ù‡ÙˆØ©","Ø´Ø§ÙŠ","Ø¨ÙŠØ¨Ø³ÙŠ","Ù…ÙŠØ§Ù‡"];

function login(){
  const name=nameInput.value.trim();
  const role=roleSelect.value;
  const code=codeInput.value;

  if(!name)return alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");

  if(role==="owner" && code!==OWNER_CODE)return alert("ÙƒÙˆØ¯ Ø§Ù„Ø£ÙˆÙ†Ø± ØºÙ„Ø·");
  if(role==="hotel" && code!==HOTEL_CODE)return alert("ÙƒÙˆØ¯ Ø§Ù„ÙÙ†Ø¯Ù‚ ØºÙ„Ø·");
  if(role==="cafe" && code!==CAFE_CODE)return alert("ÙƒÙˆØ¯ Ø§Ù„ÙƒØ§ÙÙŠÙ‡ ØºÙ„Ø·");

  localStorage.user=name;
  localStorage.role=role;
  start();
}

function start(){
  loginBox.style.display="none";
  app.style.display="block";

  if(localStorage.role!=="client"){
    ordersBtn.style.display="block";
  }
  if(localStorage.role==="owner"){
    eventForm.style.display="block";
  }

  renderAll();
}

function show(id){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function renderRooms(){
  roomsList.innerHTML="";
  for(let i=1;i<=12;i++){
    roomsList.innerHTML+=`
      <div class="item">
        ØºØ±ÙØ© ${i}
        <button onclick="sendOrder('Ø­Ø¬Ø² ØºØ±ÙØ©','ØºØ±ÙØ© '+${i})">Ø·Ù„Ø¨</button>
      </div>`;
  }
}

function renderCafe(){
  menuList.innerHTML="";
  DRINKS.forEach(d=>{
    menuList.innerHTML+=`
      <div class="item">
        ${d}
        <button onclick="sendOrder('Ù…Ø´Ø±ÙˆØ¨','${d}')">Ø·Ù„Ø¨</button>
      </div>`;
  });
}

function sendOrder(type,val){
  const orders=JSON.parse(localStorage.orders||"[]");
  orders.push({user:localStorage.user,type,val,time:new Date().toLocaleTimeString()});
  localStorage.orders=JSON.stringify(orders);
  alert("ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ âœ”");
}

function renderOrders(){
  ordersList.innerHTML="";
  const orders=JSON.parse(localStorage.orders||"[]");
  orders.forEach(o=>{
    ordersList.innerHTML+=`
      <div class="item small">
        ${o.user} | ${o.type} | ${o.val} | ${o.time}
      </div>`;
  });
}

function addNews(){
  if(localStorage.role!=="owner")return;
  if(!newsText.value)return;
  const news=JSON.parse(localStorage.news||"[]");
  news.unshift(newsText.value);
  localStorage.news=JSON.stringify(news);
  newsText.value="";
}

function renderNews(){
  newsList.innerHTML="";
  const news=JSON.parse(localStorage.news||"[]");
  news.forEach(n=>{
    newsList.innerHTML+=`<div class="item">${n}</div>`;
  });
}

function addEvent(){
  const file=eventFile.files[0];
  if(!file)return;

  const reader=new FileReader();
  reader.onload=e=>{
    const events=JSON.parse(localStorage.events||"[]");
    events.unshift({type:file.type,data:e.target.result});
    localStorage.events=JSON.stringify(events);
    renderEvents();
  };
  reader.readAsDataURL(file);
}

function renderEvents(){
  eventsList.innerHTML="";
  const events=JSON.parse(localStorage.events||"[]");
  events.forEach(ev=>{
    if(ev.type.startsWith("image")){
      eventsList.innerHTML+=`<div class="item"><img src="${ev.data}"></div>`;
    }else{
      eventsList.innerHTML+=`<div class="item"><video src="${ev.data}" controls></video></div>`;
    }
  });
}

function renderAll(){
  renderRooms();
  renderCafe();
  renderOrders();
  renderNews();
  renderEvents();
}

setInterval(()=>{
  if(localStorage.role!=="client")renderOrders();
  renderNews();
  renderEvents();
},1000);

function logout(){
  localStorage.clear();
  location.reload();
}

if(localStorage.user)start();
</script>

</body>
</html>
