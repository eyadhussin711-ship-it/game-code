<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Queen Hotel System</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
*{box-sizing:border-box;font-family:TahomĞ°}
body{
  margin:0;
  background:linear-gradient(135deg,#050b2e,#000,#0a1cff);
  background-size:300% 300%;
  animation:bg 12s infinite;
  color:#fff;
}
@keyframes bg{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.container{max-width:500px;margin:auto;padding:15px}
h2{text-align:center;margin:15px 0}

.card{
  background:#0a0f2a;
  padding:15px;
  border-radius:15px;
  margin-bottom:12px;
  box-shadow:0 0 20px #000;
}

.room{
  display:flex;
  justify-content:space-between;
  align-items:center;
  cursor:pointer;
}
.status{
  padding:5px 12px;
  border-radius:20px;
  font-size:12px;
}
.free{background:#00c853}
.booked{background:#ffab00}
.busy{background:#d50000}

input,textarea,select,button{
  width:100%;
  margin:6px 0;
  padding:10px;
  border:none;
  border-radius:10px;
}
button{
  background:#1e90ff;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
button:hover{opacity:.85}

.small{font-size:12px;opacity:.8}

/* Modal */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:center;
  justify-content:center;
}
.modal-box{
  background:#020018;
  padding:20px;
  border-radius:20px;
  width:90%;
  max-width:400px;
}
.close{background:#d50000}
</style>
</head>

<body>

<div class="container">

<h2>ğŸ¨ Ø§Ù„ØºØ±Ù</h2>
<div id="rooms"></div>

<h2>â˜• Ø§Ù„ÙƒØ§ÙÙŠÙ‡</h2>
<div class="card">
  <b>ğŸ¥˜ Ø£ÙƒÙ„</b>
  <button onclick="orderCafe('Ø¨Ø±Ø¬Ø±')">Ø¨Ø±Ø¬Ø±</button>
  <button onclick="orderCafe('Ø¨ÙŠØªØ²Ø§')">Ø¨ÙŠØªØ²Ø§</button>
  <b>ğŸ¥¤ Ù…Ø´Ø±ÙˆØ¨Ø§Øª</b>
  <button onclick="orderCafe('Ù‚Ù‡ÙˆØ©')">Ù‚Ù‡ÙˆØ©</button>
  <button onclick="orderCafe('Ø´Ø§ÙŠ')">Ø´Ø§ÙŠ</button>
</div>

<h2>ğŸ“© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h2>
<div id="orders"></div>

<h2>ğŸ“° Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h2>
<div class="card">
  <input id="newsTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø¨Ø±">
  <textarea id="newsText" placeholder="Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø®Ø¨Ø±"></textarea>
  <button onclick="addNews()">Ù†Ø´Ø± Ø§Ù„Ø®Ø¨Ø±</button>
</div>
<div id="newsList"></div>

</div>

<!-- Room Modal -->
<div class="modal" id="roomModal">
  <div class="modal-box">
    <h3 id="roomTitle"></h3>
    <input id="custName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
    <input id="people" type="number" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙØ±Ø§Ø¯">
    <input id="nights" type="number" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ù„ÙŠØ§Ù„ÙŠ">
    <select id="roomStatus">
      <option value="free">ÙØ§Ø¶ÙŠØ©</option>
      <option value="booked">Ù…Ø­Ø¬ÙˆØ²Ø©</option>
      <option value="busy">Ù…Ø¤Ø¬Ø±Ø©</option>
    </select>
    <button onclick="saveRoom()">Ø­ÙØ¸</button>
    <button class="close" onclick="closeModal()">Ø¥ØºÙ„Ø§Ù‚</button>
  </div>
</div>

<script>
/* ===== DATA INIT (Ù…Ù† ØºÙŠØ± Ù…Ø³Ø­) ===== */
if(!localStorage.rooms){
  localStorage.rooms=JSON.stringify(
    Array.from({length:4},(_,i)=>({
      id:i+1,status:"free",info:{}
    }))
  );
}
if(!localStorage.orders)localStorage.orders="[]";
if(!localStorage.news)localStorage.news="[]";

let currentRoom=null;

/* ===== ROOMS ===== */
function renderRooms(){
  const data=JSON.parse(localStorage.rooms);
  rooms.innerHTML="";
  data.forEach(r=>{
    rooms.innerHTML+=`
      <div class="card room" onclick="openRoom(${r.id})">
        <span>ØºØ±ÙØ© ${r.id}</span>
        <span class="status ${r.status}">
          ${r.status==="free"?"ÙØ§Ø¶ÙŠØ©":r.status==="booked"?"Ù…Ø­Ø¬ÙˆØ²Ø©":"Ù…Ø¤Ø¬Ø±Ø©"}
        </span>
      </div>`;
  });
}

function openRoom(id){
  currentRoom=id;
  roomTitle.innerText="ØºØ±ÙØ© "+id;
  roomModal.style.display="flex";
}

function closeModal(){
  roomModal.style.display="none";
}

function saveRoom(){
  const data=JSON.parse(localStorage.rooms);
  const r=data.find(x=>x.id===currentRoom);
  r.status=roomStatus.value;
  r.info={
    name:custName.value,
    people:people.value,
    nights:nights.value
  };
  localStorage.rooms=JSON.stringify(data);

  addOrder(`ØºØ±ÙØ© ${currentRoom} - ${r.status}`);
  closeModal();
}

/* ===== CAFE ===== */
function orderCafe(item){
  addOrder("Ø·Ù„Ø¨ ÙƒØ§ÙÙŠÙ‡: "+item);
}

/* ===== ORDERS ===== */
function addOrder(text){
  const o=JSON.parse(localStorage.orders);
  o.unshift({text,time:new Date().toLocaleTimeString()});
  localStorage.orders=JSON.stringify(o);
  renderOrders();
}

function renderOrders(){
  orders.innerHTML="";
  JSON.parse(localStorage.orders).forEach(o=>{
    orders.innerHTML+=`
      <div class="card small">
        ${o.text}<br>ğŸ•’ ${o.time}
      </div>`;
  });
}

/* ===== NEWS ===== */
function addNews(){
  const n=JSON.parse(localStorage.news);
  n.unshift({
    title:newsTitle.value,
    text:newsText.value
  });
  localStorage.news=JSON.stringify(n);
  newsTitle.value="";
  newsText.value="";
  renderNews();
}

function renderNews(){
  newsList.innerHTML="";
  JSON.parse(localStorage.news).forEach(n=>{
    newsList.innerHTML+=`
      <div class="card">
        <b>${n.title}</b>
        <p class="small">${n.text}</p>
      </div>`;
  });
}

/* ===== AUTO UPDATE ===== */
setInterval(()=>{
  renderRooms();
  renderOrders();
  renderNews();
},1000);

renderRooms();
renderOrders();
renderNews();
</script>

</body>
</html>
