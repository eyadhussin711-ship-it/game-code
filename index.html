<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Customer Support</title>
<style>
body{
    margin:0;
    font-family:Arial;
    background:#0b132b;
    color:white;
}
.app{
    display:flex;
    height:100vh;
}
.sidebar{
    width:220px;
    background:#1c2541;
    padding:15px;
}
.sidebar button{
    width:100%;
    margin-top:10px;
    padding:10px;
    border:none;
    border-radius:8px;
    cursor:pointer;
}
.main{
    flex:1;
    padding:20px;
}
.hidden{display:none;}
.chat{
    background:#1c2541;
    padding:15px;
    border-radius:10px;
    height:300px;
    overflow:auto;
}
input,select{
    width:100%;
    padding:8px;
    margin-top:10px;
}
.msg{
    margin:5px 0;
}
.client{color:#ffd166;}
.support{color:#06d6a0;}
</style>
</head>

<body>

<div id="login">
    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
    <input id="name" placeholder="Ø§Ø³Ù…Ùƒ">
    <button onclick="login()">Ø¯Ø®ÙˆÙ„ ÙƒØ¹Ù…ÙŠÙ„</button>
    <hr>
    <input id="supportCode" placeholder="ÙƒÙˆØ¯ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù…">
    <button onclick="loginSupport()">Ø¯Ø®ÙˆÙ„ ÙƒØ¯Ø¹Ù…</button>
</div>

<div class="app hidden" id="app">
    <div class="sidebar">
        <h3 id="userRole"></h3>
        <button onclick="openComplaint()">ğŸ§¾ ÙØªØ­ Ø´ÙƒÙˆÙ‰</button>
        <button onclick="logout()">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
    </div>

    <div class="main">
        <div id="complaintBox" class="hidden">
            <select id="type">
                <option>ØªØ£Ø®ÙŠØ± Ø·Ù„Ø¨</option>
                <option>Ø§Ø³ØªÙØ³Ø§Ø±</option>
                <option>Ù…Ø´ÙƒÙ„Ø© Ø¹Ø§Ù…Ø©</option>
            </select>
            <input id="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø´ÙƒÙˆÙ‰">
            <button onclick="send()">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>

        <div class="chat" id="chat"></div>
    </div>
</div>

<script>
let user="",role="client";

function login(){
    user=document.getElementById("name").value;
    if(!user)return;
    role="client";
    start();
}

function loginSupport(){
    let code=document.getElementById("supportCode").value;
    if(code==="SUPPORT123"){
        user="Ø§Ù„Ø¯Ø¹Ù…";
        role="support";
        start();
    }else alert("ÙƒÙˆØ¯ ØºÙ„Ø·");
}

function start(){
    document.getElementById("login").classList.add("hidden");
    document.getElementById("app").classList.remove("hidden");
    document.getElementById("userRole").innerText= role==="support"?"ğŸ§‘â€ğŸ’¼ Ø¯Ø¹Ù…":"ğŸ‘¤ Ø¹Ù…ÙŠÙ„";
    loadChat();
}

function openComplaint(){
    document.getElementById("complaintBox").classList.remove("hidden");
}

function send(){
    let msg=document.getElementById("text").value;
    if(!msg)return;
    let chat=JSON.parse(localStorage.getItem("chat")||"[]");
    chat.push({user,role,msg});
    localStorage.setItem("chat",JSON.stringify(chat));
    document.getElementById("text").value="";
    loadChat();
}

function loadChat(){
    let chat=JSON.parse(localStorage.getItem("chat")||"[]");
    let box=document.getElementById("chat");
    box.innerHTML="";
    chat.forEach(c=>{
        if(role==="support"||c.user===user){
            box.innerHTML+=`<div class="msg ${c.role}">${c.user}: ${c.msg}</div>`;
        }
    });
}

function logout(){
    location.reload();
}
</script>

</body>
</html>
