<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QUEEN</title>

<style>
*{box-sizing:border-box;font-family:Tahoma}

body{
  margin:0;
  min-height:100vh;
  color:#fff;
  background:#000;
}

/* ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø®Ù„ÙÙŠØ© */
#loginVideo{
  position:fixed;
  inset:0;
  z-index:-2;
  overflow:hidden;
}
#loginVideo iframe{
  width:100%;
  height:100%;
  pointer-events:none;
}

/* ØªØ¹ØªÙŠÙ… */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  z-index:-1;
}

.wrap{max-width:420px;margin:auto;padding:15px}

.box{
  background:rgba(0,0,0,.75);
  padding:20px;
  border-radius:18px;
}

/* Ù„ÙˆØ¬Ùˆ */
.logo{
  text-align:center;
  font-size:32px;
  color:red;
  animation:glow 2s infinite alternate;
  margin-bottom:10px;
}
@keyframes glow{
  from{text-shadow:0 0 5px red}
  to{text-shadow:0 0 20px red}
}

input,button{
  width:100%;
  padding:13px;
  margin:6px 0;
  border:none;
  border-radius:12px;
  font-size:14px;
}

input{background:#020d1f;color:#fff}

button{
  background:#1e90ff;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
  transition:transform .15s ease, box-shadow .15s ease;
}
button:hover{
  transform:scale(1.03);
  box-shadow:0 0 12px rgba(30,144,255,.6);
}
button:active{transform:scale(.97)}

.nav{
  display:flex;
  gap:6px;
  margin-bottom:10px;
}
.nav button{flex:1}

.section{display:none}
.section.active{display:block}

.item{
  background:#020d1f;
  padding:12px;
  border-radius:12px;
  margin:6px 0;
}

.sideForm{
  background:#00162e;
  padding:15px;
  border-radius:14px;
  margin-top:10px;
}

@media(max-width:600px){
  .wrap{max-width:100%}
}
</style>
</head>

<body>

<!-- ÙÙŠØ¯ÙŠÙˆ ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div id="loginVideo">
  <iframe
    src="https://www.youtube.com/embed/GBZkBvdN3wU?autoplay=1&mute=1&controls=0&loop=1&playlist=GBZkBvdN3wU"
    frameborder="0"
    allow="autoplay; encrypted-media">
  </iframe>
</div>

<!-- LOGIN -->
<div id="loginBox">
  <div class="wrap">
    <div class="box">
      <div class="logo">QUEEN</div>
      <input id="nameInput" placeholder="Ø§Ø³Ù…Ùƒ">
      <input id="codeInput" placeholder="ÙƒÙˆØ¯ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
      <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    </div>
  </div>
</div>

<!-- APP -->
<div id="app" style="display:none">
  <div class="wrap">

    <div class="nav">
      <button onclick="showSection('rooms')">ğŸ¨</button>
      <button onclick="showSection('orders')">ğŸ§¾</button>
      <button onclick="logout()">ğŸšª</button>
    </div>

    <div id="rooms" class="section active">
      <h3>Ø§Ù„ØºØ±Ù</h3>
      <div id="roomsList"></div>
      <div id="roomForm"></div>
    </div>

    <div id="orders" class="section">
      <h3>Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
      <div id="ordersList"></div>
    </div>

  </div>
</div>

<!-- Ø£ØµÙˆØ§Øª -->
<audio id="clickSound" src="click.mp3" preload="auto"></audio>
<audio id="hoverSound" src="hover.mp3" preload="auto"></audio>

<script>
/* ===== Ø§Ù„Ø£ØµÙˆØ§Øª ===== */
const clickSound=document.getElementById("clickSound");
const hoverSound=document.getElementById("hoverSound");

document.addEventListener("click",e=>{
  if(e.target.tagName==="BUTTON"){
    clickSound.currentTime=0;
    clickSound.play().catch(()=>{});
  }
});

document.addEventListener("mouseover",e=>{
  if(e.target.tagName==="BUTTON"){
    hoverSound.currentTime=0;
    hoverSound.play().catch(()=>{});
  }
});

/* ===== Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ===== */
const CODES={
  "QUEEN-HOTEL":"hotel",
  "QUEEN-OWNER":"owner"
};

/* ===== ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ===== */
function login(){
  const name=nameInput.value.trim();
  if(!name){alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");return;}

  let role="client";
  if(codeInput.value && CODES[codeInput.value]){
    role=CODES[codeInput.value];
  }

  localStorage.setItem("user",name);
  localStorage.setItem("role",role);

  startApp();
}

/* ===== Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ===== */
function startApp(){
  loginVideo.style.display="none";
  loginBox.style.display="none";
  app.style.display="block";
  renderRooms();
  renderOrders();
}

/* ===== ØªÙ†Ù‚Ù„ ===== */
function showSection(id){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* ===== Ø§Ù„ØºØ±Ù ===== */
function renderRooms(){
  roomsList.innerHTML="";
  for(let i=1;i<=12;i++){
    roomsList.innerHTML+=`
      <div class="item" onclick="openRoom(${i})">
        ØºØ±ÙØ© Ø±Ù‚Ù… ${i}
      </div>`;
  }
}

function openRoom(num){
  if(localStorage.role!=="client"){
    alert("Ø§Ù„Ø­Ø¬Ø² Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙ‚Ø·");
    return;
  }
  roomForm.innerHTML=`
    <div class="sideForm">
      <h4>Ø­Ø¬Ø² ØºØ±ÙØ© ${num}</h4>
      <input id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
      <input id="from" type="date">
      <input id="to" type="date">
      <button onclick="sendBooking(${num})">Ø¥Ø±Ø³Ø§Ù„</button>
    </div>
  `;
}

/* ===== Ø§Ù„Ø·Ù„Ø¨Ø§Øª ===== */
function sendBooking(room){
  if(!phone.value||!from.value||!to.value){
    alert("ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
    return;
  }
  const arr=JSON.parse(localStorage.getItem("orders")||"[]");
  arr.push({
    room,
    user:localStorage.user,
    time:new Date().toLocaleString()
  });
  localStorage.setItem("orders",JSON.stringify(arr));
  alert("ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„");
  roomForm.innerHTML="";
  renderOrders();
}

function renderOrders(){
  ordersList.innerHTML="";
  const arr=JSON.parse(localStorage.getItem("orders")||"[]");
  arr.forEach(o=>{
    ordersList.innerHTML+=`
      <div class="item">
        ØºØ±ÙØ© ${o.room}<br>
        ${o.user}<br>
        ${o.time}
      </div>
    `;
  });
}

/* ===== Ø®Ø±ÙˆØ¬ ===== */
function logout(){
  localStorage.clear();
  location.reload();
}

window.onload=()=>{
  if(localStorage.user) startApp();
};
</script>

</body>
</html>
