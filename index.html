<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Game Store</title>

<style>
body {
    font-family: Arial;
    background: #f2f2f2;
    text-align: center;
}
.box {
    background: white;
    padding: 20px;
    width: 300px;
    margin: 50px auto;
    border-radius: 8px;
}
button {
    padding: 10px;
    width: 100%;
    margin-top: 10px;
    cursor: pointer;
}
input {
    width: 100%;
    padding: 8px;
    margin-top: 10px;
}
#store, #result {
    display: none;
}
.code {
    color: green;
    font-size: 18px;
    margin-top: 15px;
}
</style>
</head>

<body>

<div class="box" id="login">
    <h2>ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</h2>
    <input id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</div>

<div class="box" id="store">
    <h2>ðŸ›’ Ù…ØªØ¬Ø± Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</h2>
    <p>Ù…Ù†ØªØ¬: Google Play Code</p>
    <button onclick="buy()">Ø´Ø±Ø§Ø¡</button>
</div>

<div class="box" id="result">
    <h2>ðŸŽ‰ ÙƒÙˆØ¯Ùƒ</h2>
    <div class="code" id="code"></div>
</div>

<script>
function login() {
    let user = document.getElementById("username").value;
    if(user === "") return alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");

    localStorage.setItem("user", user);
    document.getElementById("login").style.display = "none";
    document.getElementById("store").style.display = "block";
}

function buy() {
    let user = localStorage.getItem("user");
    let used = localStorage.getItem("used_" + user);

    if(used) {
        alert("Ø£Ù†Øª Ø£Ø®Ø°Øª ÙƒÙˆØ¯ Ù‚Ø¨Ù„ ÙƒØ¯Ù‡");
        return;
    }

    let chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    let code = "";
    for(let i = 0; i < 16; i++) {
        code += chars[Math.floor(Math.random() * chars.length)];
    }

    localStorage.setItem("used_" + user, code);

    document.getElementById("store").style.display = "none";
    document.getElementById("result").style.display = "block";
    document.getElementById("code").innerText = code;
}

window.onload = function() {
    let user = localStorage.getItem("user");
    if(user) {
        document.getElementById("login").style.display = "none";
        document.getElementById("store").style.display = "block";
    }
}
</script>

</body>
</html>
