<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Queen Hotel</title>

<style>
body{
  margin:0;
  font-family:Tahoma;
  background:linear-gradient(270deg,#000,#001a33,#000);
  background-size:400% 400%;
  animation:bg 12s ease infinite;
  color:#fff;
}
@keyframes bg{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.wrap{max-width:420px;margin:auto;padding:15px}
.box{background:rgba(0,0,0,.85);padding:20px;border-radius:18px}

h1{
  text-align:center;
  color:red;
  animation:glow 2s infinite alternate;
}
@keyframes glow{
  from{text-shadow:0 0 5px red}
  to{text-shadow:0 0 20px red}
}

input,button,textarea{
  width:100%;
  padding:12px;
  margin:6px 0;
  border:none;
  border-radius:10px;
  font-size:14px;
}
button{background:#0066ff;color:#fff;font-weight:bold;cursor:pointer}

.nav{display:flex;gap:5px;margin-bottom:10px}
.nav button{flex:1}

.section{display:none}
.section.active{display:block}

.item{
  background:#002244;
  padding:12px;
  border-radius:10px;
  margin:6px 0;
  cursor:pointer;
}
.small{font-size:12px;opacity:.8}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginBox">
  <div class="wrap">
    <div class="box">
      <h1>QUEEN HOTEL</h1>
      <input id="nameInput" placeholder="Ø§Ø³Ù…Ùƒ">
      <input id="codeInput" placeholder="ÙƒÙˆØ¯ Ø§Ù„Ù…ÙˆØ¸Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
      <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    </div>
  </div>
</div>

<!-- APP -->
<div id="app" style="display:none">
  <div class="wrap">

    <div class="nav">
      <button onclick="show('rooms')">ğŸ¨</button>
      <button onclick="show('news')">ğŸ“°</button>
      <button id="ordersBtn" style="display:none" onclick="show('orders')">ğŸ§¾</button>
      <button onclick="logout()">ğŸšª</button>
    </div>

    <!-- ROOMS -->
    <div id="rooms" class="section active">
      <h3>Ø§Ù„ØºØ±Ù</h3>
      <div id="roomsList"></div>
    </div>

    <!-- NEWS -->
    <div id="news" class="section">
      <h3>Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h3>
      <div id="newsList"></div>
      <div id="newsForm" style="display:none">
        <textarea id="newsText" placeholder="Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯"></textarea>
        <button onclick="addNews()">Ù†Ø´Ø±</button>
      </div>
    </div>

    <!-- ORDERS -->
    <div id="orders" class="section">
      <h3>Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
      <div id="ordersList"></div>
    </div>

  </div>
</div>

<script>
const CODES = {
  "QUEEN-HOTEL":"hotel",
  "QUEEN-CAFE":"cafe",
  "QUEEN-OWNER":"owner"
};

function login(){
  const name = nameInput.value.trim();
  if(!name) return alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");

  let role = "client";
  if(codeInput.value && CODES[codeInput.value]){
    role = CODES[codeInput.value];
  }

  localStorage.setItem("user",name);
  localStorage.setItem("role",role);
  start();
}

function start(){
  loginBox.style.display="none";
  app.style.display="block";

  if(localStorage.role!="client"){
    ordersBtn.style.display="block";
  }
  if(localStorage.role=="hotel" || localStorage.role=="owner"){
    newsForm.style.display="block";
  }
  renderAll();
}

function show(id){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* ===== ROOMS ===== */
function renderRooms(){
  roomsList.innerHTML="";
  for(let i=1;i<=12;i++){
    roomsList.innerHTML+=`
      <div class="item" onclick="openRoom(${i})">
        ØºØ±ÙØ© Ø±Ù‚Ù… ${i}
      </div>`;
  }
}

function openRoom(num){
  const role = localStorage.role;
  if(role=="client"){
    const name = prompt("Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„");
    if(!name) return;
    saveOrder("Ø­Ø¬Ø² ØºØ±ÙØ©",`ØºØ±ÙØ© ${num}`,name);
    alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø²");
  }else{
    alert("Ù…ÙˆØ¸Ù â€“ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø­Ø¬Ø²");
  }
}

/* ===== ORDERS ===== */
function saveOrder(type,item,user){
  const orders = JSON.parse(localStorage.getItem("orders")||"[]");
  orders.push({type,item,user,time:new Date().toLocaleString()});
  localStorage.setItem("orders",JSON.stringify(orders));
  renderOrders();
}

function renderOrders(){
  ordersList.innerHTML="";
  const orders = JSON.parse(localStorage.getItem("orders")||"[]");
  orders.forEach(o=>{
    ordersList.innerHTML+=`
      <div class="item small">
        ${o.type} | ${o.item} | ${o.user}<br>${o.time}
      </div>`;
  });
}

/* ===== NEWS ===== */
function addNews(){
  const txt = newsText.value.trim();
  if(!txt) return;
  const news = JSON.parse(localStorage.getItem("news")||"[]");
  news.unshift(txt);
  localStorage.setItem("news",JSON.stringify(news));
  newsText.value="";
  renderNews();
}
function renderNews(){
  newsList.innerHTML="";
  const news = JSON.parse(localStorage.getItem("news")||"[]");
  news.forEach(n=>newsList.innerHTML+=`<div class="item">${n}</div>`);
}

function renderAll(){
  renderRooms();
  renderOrders();
  renderNews();
}

function logout(){
  localStorage.clear();
  location.reload();
}

window.onload=()=>{
  if(localStorage.user) start();
}
</script>

</body>
</html>
